<!DOCTYPE html>
<html lang="en">
    <head>

        <!-- Standart Einstellungen; Meta viewport macht responsive Design auf Mobile Phones möglich!-->
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    
        <!-- Wir benutzen dir Schrift Poppins, diese binden wir hier ein!-->
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
              rel="stylesheet">
    
        <title>Products</title>
    
        <!-- Bootstrap core CSS -->
        <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
              integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" rel="stylesheet">
        <script crossorigin="anonymous"
                integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
                src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
                <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
        <!-- Fontawesome-->
        <script crossorigin="anonymous" src="https://kit.fontawesome.com/d84ba81ad4.js"></script>
        <!-- Gibt uns Icons (Social Media / Navbar)-->
    
        <!-- Unser eigenes CSS-->
        <link href="./css/style.css" rel="stylesheet">
    
    </head>
    
<body class="products-body">
        <div id="navbar-bind"></div>

    <main>
        <div class="container-fluid">
            <div class="row">
                <div class="page-content">
                    <div class="container h-auto pb-5">
                        <h2 class="text-center pt-3 mb-1" style="margin: 20px;">Assassin's Creed Mirage</h2>
                        <div class="product-container d-flex align-items-center" style="margin-top: 20px;">
                            <img class="col-lg-5" src="images\articles\games\PS4\ps4_acmirage.jpg">
                            <div>
                                <p class=" col-lg-12 product-description">
                                    Assassin's Creed Mirage is the next installment in the popular Assassin's Creed franchise. Set in the bustling city of Baghdad in the 9th century, the game follows the story of Basim Ibn Ishaq, a young street urchin who is destined to become a legendary assassin.
                                </p>
                                <div class="product-price">
                                    €59.99
                                </div>
                                <div class="product-category">
                                    Category: ****
                                </div>
                                <div class="product-stock">
                                    Stock: **
                                </div>
                                <div class="col-lg-3">
                                    <button class="btn btn-buy-now"
                                        type="button" onclick="addToCart()">Add to Cart
                                    </button>
                                    <script>
                                        function addToCart() {
                                          // Get the ID of the product that the user wants to add to their cart.
                                          var productId = document.getElementById("productId").value;
                                        
                                          // Create a new FormData object.
                                          var formData = new FormData();
                                        
                                          // Add the product ID to the FormData object.
                                          formData.append("productId", productId);
                                        
                                          // Send a POST request to the backend.
                                          fetch("/api/addToCart", {
                                            method: "POST",
                                            body: formData
                                          })
                                          .then(response => response.json())
                                          .then(data => {
                                            // If the response is successful, update the UI to show that the product has been added to the cart.
                                            if (data.success) {
                                              // Update the UI here.
                                            }
                                          });
                                        }
                                        </script>
                                        <script>
                                            async function addToCart() {
                                              // Get the ID of the product that the user wants to add to their cart.
                                              var productId = document.getElementById("productId").value;
                                            
                                              // Send a POST request to the backend.
                                              const response = await fetch("/api/addToCart", {
                                                method: "POST",
                                                body: JSON.stringify({
                                                  productId: productId
                                                })
                                              });
                                            
                                              // Check if the response was successful.
                                              if (response.status === 200) {
                                                // Update the UI to show that the product has been added to the cart.
                                                // Update the stock count of the product.
                                            
                                                // Reload the page.
                                                location.reload();
                                              } else {
                                                // Handle the error.
                                              }
                                            }
                                            </script>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div id="footer-bind"></div>
    <script src="./js/loader.js"></script>
</body>
</html>